/*
Copyright (c) 2025 Amazon.com, Inc. or its affiliates. All Rights Reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Written by the KLR Contributors (https://github.com/leanprover/KLR)
*/

// This file is automatically generated from KLR.
// Manual edits to this file will be overwritten.

#include "klir_common.hpp"
#include "klir_serde.hpp"

namespace klr {

List<Bool> List_Bool_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Bool> l;
  while (size-- > 0) {
    Bool b = Bool_des(in);
    l.push_back(b);
  }
  return l;
}

List<Nat> List_Nat_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Nat> l;
  while (size-- > 0) {
    Nat b = Nat_des(in);
    l.push_back(b);
  }
  return l;
}

List<Int> List_Int_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Int> l;
  while (size-- > 0) {
    Int b = Int_des(in);
    l.push_back(b);
  }
  return l;
}

List<Float> List_Float_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Float> l;
  while (size-- > 0) {
    Float b = Float_des(in);
    l.push_back(b);
  }
  return l;
}

List<String> List_String_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<String> l;
  while (size-- > 0) {
    String b = String_des(in);
    l.push_back(b);
  }
  return l;
}

Option<Bool> Option_Bool_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Bool> x;
  if (isSome)
    x = Bool_des(in);
  return x;
}

Option<Nat> Option_Nat_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Nat> x;
  if (isSome)
    x = Nat_des(in);
  return x;
}

Option<Int> Option_Int_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Int> x;
  if (isSome)
    x = Int_des(in);
  return x;
}

Option<Float> Option_Float_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Float> x;
  if (isSome)
    x = Float_des(in);
  return x;
}

Option<String> Option_String_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<String> x;
  if (isSome)
    x = String_des(in);
  return x;
}

Option<List<Bool>> Option_List_Bool_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<Bool>> x;
  if (isSome)
    x = List_Bool_des(in);
  return x;
}

Option<List<Nat>> Option_List_Nat_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<Nat>> x;
  if (isSome)
    x = List_Nat_des(in);
  return x;
}

Option<List<Int>> Option_List_Int_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<Int>> x;
  if (isSome)
    x = List_Int_des(in);
  return x;
}

Option<List<Float>> Option_List_Float_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<Float>> x;
  if (isSome)
    x = List_Float_des(in);
  return x;
}

Option<List<String>> Option_List_String_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<String>> x;
  if (isSome)
    x = List_String_des(in);
  return x;
}

List<List<Bool>> List_List_Bool_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<List<Bool>> l;
  while (size-- > 0) {
    List<Bool> b = List_Bool_des(in);
    l.push_back(b);
  }
  return l;
}

List<List<Nat>> List_List_Nat_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<List<Nat>> l;
  while (size-- > 0) {
    List<Nat> b = List_Nat_des(in);
    l.push_back(b);
  }
  return l;
}

List<List<Int>> List_List_Int_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<List<Int>> l;
  while (size-- > 0) {
    List<Int> b = List_Int_des(in);
    l.push_back(b);
  }
  return l;
}

List<List<Float>> List_List_Float_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<List<Float>> l;
  while (size-- > 0) {
    List<Float> b = List_Float_des(in);
    l.push_back(b);
  }
  return l;
}

List<List<String>> List_List_String_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<List<String>> l;
  while (size-- > 0) {
    List<String> b = List_String_des(in);
    l.push_back(b);
  }
  return l;
}

Option<List<List<Bool>>> Option_List_List_Bool_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<List<Bool>>> x;
  if (isSome)
    x = List_List_Bool_des(in);
  return x;
}

Option<List<List<Nat>>> Option_List_List_Nat_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<List<Nat>>> x;
  if (isSome)
    x = List_List_Nat_des(in);
  return x;
}

Option<List<List<Int>>> Option_List_List_Int_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<List<Int>>> x;
  if (isSome)
    x = List_List_Int_des(in);
  return x;
}

Option<List<List<Float>>> Option_List_List_Float_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<List<Float>>> x;
  if (isSome)
    x = List_List_Float_des(in);
  return x;
}

Option<List<List<String>>> Option_List_List_String_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<List<List<String>>> x;
  if (isSome)
    x = List_List_String_des(in);
  return x;
}

Ptr<Pos> Pos_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Pos:100,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 100 || c != 0 || l != 5) {
    std::ostringstream msg;
    msg << "Expecting Pos:(100,0,5)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Pos> x = ptr<Pos>();
  x->line = Nat_des(in);
  x->column = Nat_des(in);
  x->lineEnd = Option_Nat_des(in);
  x->columnEnd = Option_Nat_des(in);
  x->filename = Option_String_des(in);
  return x;
}

Ptr<Immediate> Immediate_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 131)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ImmediateRegisterWrapper> x = ptr<ImmediateRegisterWrapper>();
    x->reg = Nat_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ImmediatePointerWrapper> x = ptr<ImmediatePointerWrapper>();
    return x;
    break;
  }
  case 2: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ImmediateIntWrapper> x = ptr<ImmediateIntWrapper>();
    x->i = Int_des(in);
    return x;
    break;
  }
  case 3: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ImmediateFloatWrapper> x = ptr<ImmediateFloatWrapper>();
    x->f = Float_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Memory Memory_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 110)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Memory::hbm;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Memory::sbuf;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Memory::psum;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Memory::reg;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Dtype Dtype_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 111)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::bfloat16;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float8e3;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float8e4;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float8e5;
    break;
  }
  case 4: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float16;
    break;
  }
  case 5: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float32;
    break;
  }
  case 6: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float32r;
    break;
  }
  case 7: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::int8;
    break;
  }
  case 8: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::int16;
    break;
  }
  case 9: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::int64;
    break;
  }
  case 10: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::int32;
    break;
  }
  case 11: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::uint8;
    break;
  }
  case 12: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::uint16;
    break;
  }
  case 13: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::uint32;
    break;
  }
  case 14: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::uint64;
    break;
  }
  case 15: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float8_e4m3fn;
    break;
  }
  case 16: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float8_e5m2_x4;
    break;
  }
  case 17: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float8_e4m3fn_x4;
    break;
  }
  case 18: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Dtype::float4_e2m1fn_x4;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<Shape> Shape_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Shape:112,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 112 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting Shape:(112,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Shape> x = ptr<Shape>();
  x->parDim = Nat_des(in);
  x->freeDims = List_Nat_des(in);
  return x;
}

Ptr<Address> Address_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Address:113,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 113 || c != 0 || l != 7) {
    std::ostringstream msg;
    msg << "Expecting Address:(113,0,7)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Address> x = ptr<Address>();
  x->name = String_des(in);
  x->memory = Memory_des(in);
  x->parSize = Nat_des(in);
  x->freeSize = Nat_des(in);
  x->parOffset = Option_Nat_des(in);
  x->freeOffset = Option_Nat_des(in);
  x->isShared = Bool_des(in);
  return x;
}

Ptr<TensorName> TensorName_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorName:114,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 114 || c != 0 || l != 8) {
    std::ostringstream msg;
    msg << "Expecting TensorName:(114,0,8)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorName> x = ptr<TensorName>();
  x->name = String_des(in);
  x->dtype = Dtype_des(in);
  x->shape = Shape_des(in);
  x->address = Address_des(in);
  x->freeElements = Nat_des(in);
  x->parWF = Prop_des(in);
  x->freeWF = Prop_des(in);
  x->addressRotation = Bool_des(in);
  return x;
}

Ptr<Slice> Slice_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Slice:115,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 115 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting Slice:(115,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Slice> x = ptr<Slice>();
  x->l = Nat_des(in);
  x->u = Nat_des(in);
  x->step = Int_des(in);
  x->wf = Prop_des(in);
  return x;
}

Ptr<Index> Index_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 117)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<IndexCoordWrapper> x = ptr<IndexCoordWrapper>();
    x->e = Nat_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<IndexSliceWrapper> x = ptr<IndexSliceWrapper>();
    x->slice = Slice_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<AccessBasic> AccessBasic_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting AccessBasic:118,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 118 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting AccessBasic:(118,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<AccessBasic> x = ptr<AccessBasic>();
  x->tensor = TensorName_des(in);
  x->indexes = List_Index_des(in);
  x->lenWF = Prop_des(in);
  return x;
}

Ptr<APPair> APPair_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting APPair:119,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 119 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting APPair:(119,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<APPair> x = ptr<APPair>();
  x->step = Int_des(in);
  x->num = Nat_des(in);
  x->offset = Nat_des(in);
  return x;
}

Ptr<AccessPattern> AccessPattern_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting AccessPattern:120,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 120 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting AccessPattern:(120,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<AccessPattern> x = ptr<AccessPattern>();
  x->tensor = TensorName_des(in);
  x->parNum = Nat_des(in);
  x->pattern = List_APPair_des(in);
  x->parOffset = Nat_des(in);
  x->freeOffset = Nat_des(in);
  x->fixedAxis = List_Nat_des(in);
  return x;
}

Ptr<ScalarOffset> ScalarOffset_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 123)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ScalarOffsetRegWrapper> x = ptr<ScalarOffsetRegWrapper>();
    x->r = String_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ScalarOffsetAccWrapper> x = ptr<ScalarOffsetAccWrapper>();
    x->a = Access_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<BirAccessPattern> BirAccessPattern_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting BirAccessPattern:124,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 124 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting BirAccessPattern:(124,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<BirAccessPattern> x = ptr<BirAccessPattern>();
  x->tensor = TensorName_des(in);
  x->offset = Nat_des(in);
  x->pattern = List_APPair_des(in);
  x->scalarOffset = Option_ScalarOffset_des(in);
  x->vectorOffset = Option_Access_des(in);
  x->indirectDim = Int_des(in);
  return x;
}

Ptr<Access> Access_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 125)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<AccessSimpleWrapper> x = ptr<AccessSimpleWrapper>();
    x->tensor = TensorName_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<AccessBasicWrapper> x = ptr<AccessBasicWrapper>();
    x->access = AccessBasic_des(in);
    return x;
    break;
  }
  case 2: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<AccessPatternWrapper> x = ptr<AccessPatternWrapper>();
    x->access = AccessPattern_des(in);
    return x;
    break;
  }
  case 3: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<AccessBirPatternWrapper> x = ptr<AccessBirPatternWrapper>();
    x->access = BirAccessPattern_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<TensorHbm> TensorHbm_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorHbm:126,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 126 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting TensorHbm:(126,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorHbm> x = ptr<TensorHbm>();
  x->name = String_des(in);
  x->dtype = Dtype_des(in);
  x->address = Nat_des(in);
  x->dims = List_APPair_des(in);
  return x;
}

Ptr<TensorSram> TensorSram_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorSram:127,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 127 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting TensorSram:(127,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorSram> x = ptr<TensorSram>();
  x->name = String_des(in);
  x->dtype = Dtype_des(in);
  x->parNum = Nat_des(in);
  x->pattern = List_APPair_des(in);
  x->parOffset = Nat_des(in);
  x->freeOffset = Nat_des(in);
  return x;
}

Ptr<TensorRef> TensorRef_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 128)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<TensorRefAbstractWrapper> x = ptr<TensorRefAbstractWrapper>();
    x->access = Access_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<TensorRefSbufWrapper> x = ptr<TensorRefSbufWrapper>();
    x->view = TensorSram_des(in);
    return x;
    break;
  }
  case 2: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<TensorRefPsumWrapper> x = ptr<TensorRefPsumWrapper>();
    x->view = TensorSram_des(in);
    return x;
    break;
  }
  case 3: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<TensorRefHbmWrapper> x = ptr<TensorRefHbmWrapper>();
    x->view = TensorHbm_des(in);
    return x;
    break;
  }
  case 4: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<TensorRefRegisterWrapper> x = ptr<TensorRefRegisterWrapper>();
    x->reg = Nat_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

MatmulPerfMode MatmulPerfMode_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 129)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return MatmulPerfMode::None;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return MatmulPerfMode::DoubleRow;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return MatmulPerfMode::DoubleRowSwInterleave;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Engine Engine_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 130)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Engine::unassigned;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Engine::act;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Engine::dma;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Engine::dve;
    break;
  }
  case 4: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Engine::pe;
    break;
  }
  case 5: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Engine::pool;
    break;
  }
  case 6: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return Engine::sp;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<ActivationImm> ActivationImm_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 132)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ActivationImmRegisterWrapper> x = ptr<ActivationImmRegisterWrapper>();
    x->reg = Nat_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ActivationImmPointerWrapper> x = ptr<ActivationImmPointerWrapper>();
    return x;
    break;
  }
  case 2: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ActivationImmFloatWrapper> x = ptr<ActivationImmFloatWrapper>();
    x->f = Float_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<Operand> Operand_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 133)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperandImmWrapper> x = ptr<OperandImmWrapper>();
    x->i = Immediate_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperandTileWrapper> x = ptr<OperandTileWrapper>();
    x->t = TensorRef_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<DataPattern> DataPattern_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting DataPattern:134,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 134 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting DataPattern:(134,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<DataPattern> x = ptr<DataPattern>();
  x->offset = Int_des(in);
  x->pattern = List_APPair_des(in);
  x->channelMultiplier = Int_des(in);
  return x;
}

AluOp AluOp_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 135)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::abs;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::add;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::arith_shift_left;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::arith_shift_right;
    break;
  }
  case 4: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::average;
    break;
  }
  case 5: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::bitwise_and;
    break;
  }
  case 6: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::bitwise_not;
    break;
  }
  case 7: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::bitwise_or;
    break;
  }
  case 8: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::bitwise_xor;
    break;
  }
  case 9: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::bypass;
    break;
  }
  case 10: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::divide;
    break;
  }
  case 11: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::is_equal;
    break;
  }
  case 12: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::is_ge;
    break;
  }
  case 13: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::is_gt;
    break;
  }
  case 14: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::is_le;
    break;
  }
  case 15: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::is_lt;
    break;
  }
  case 16: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::logical_and;
    break;
  }
  case 17: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::logical_or;
    break;
  }
  case 18: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::logical_shift_left;
    break;
  }
  case 19: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::logical_shift_right;
    break;
  }
  case 20: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::logical_xor;
    break;
  }
  case 21: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::max;
    break;
  }
  case 22: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::min;
    break;
  }
  case 23: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::mod;
    break;
  }
  case 24: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::mult;
    break;
  }
  case 25: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::not_equal;
    break;
  }
  case 26: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::pow;
    break;
  }
  case 27: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::rsqrt;
    break;
  }
  case 28: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AluOp::subtract;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

DropoutThresholdType DropoutThresholdType_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 136)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return DropoutThresholdType::DropRate;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return DropoutThresholdType::KeepRate;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

AccumCmd AccumCmd_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 137)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AccumCmd::Idle;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AccumCmd::Zero;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AccumCmd::Accumulate;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AccumCmd::ZeroAccumulate;
    break;
  }
  case 4: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AccumCmd::LoadAccumulate;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

ActivationFunc ActivationFunc_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 138)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::abs;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::arctan;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::copy;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::erf;
    break;
  }
  case 4: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::erf_dx;
    break;
  }
  case 5: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::exp;
    break;
  }
  case 6: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::gelu;
    break;
  }
  case 7: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::gelu_apprx_tanh;
    break;
  }
  case 8: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::gelu_dx;
    break;
  }
  case 9: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::log;
    break;
  }
  case 10: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::mish;
    break;
  }
  case 11: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::reciprocal;
    break;
  }
  case 12: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::relu;
    break;
  }
  case 13: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::rsqrt;
    break;
  }
  case 14: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::sigmoid;
    break;
  }
  case 15: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::sign;
    break;
  }
  case 16: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::silu;
    break;
  }
  case 17: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::silu_dx;
    break;
  }
  case 18: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::sin;
    break;
  }
  case 19: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::softplus;
    break;
  }
  case 20: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::sqrt;
    break;
  }
  case 21: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::square;
    break;
  }
  case 22: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return ActivationFunc::tanh;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

AffineSelectCmp AffineSelectCmp_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 139)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AffineSelectCmp::GreaterThan;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AffineSelectCmp::GreaterThanEq;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AffineSelectCmp::Eq;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return AffineSelectCmp::NotEq;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

DgeComputeOp DgeComputeOp_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 140)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return DgeComputeOp::none;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return DgeComputeOp::add;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<DmaBounds> DmaBounds_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 141)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    Ptr<DmaBoundsSkipWrapper> x = ptr<DmaBoundsSkipWrapper>();
    return x;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    Ptr<DmaBoundsErrorWrapper> x = ptr<DmaBoundsErrorWrapper>();
    return x;
    break;
  }
  case 2: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<DmaBoundsRegWrapper> x = ptr<DmaBoundsRegWrapper>();
    x->reg = Nat_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

MatmulGroupElement MatmulGroupElement_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 142)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return MatmulGroupElement::first;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return MatmulGroupElement::middle;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return MatmulGroupElement::last;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return MatmulGroupElement::whole;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<IndexMissBehavior> IndexMissBehavior_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 143)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<IndexMissBehaviorImmWrapper> x = ptr<IndexMissBehaviorImmWrapper>();
    x->value = Immediate_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    Ptr<IndexMissBehaviorSkipWrapper> x = ptr<IndexMissBehaviorSkipWrapper>();
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

TensorScalarReverseOps TensorScalarReverseOps_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 144)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorScalarReverseOps::none;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorScalarReverseOps::first;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorScalarReverseOps::second;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorScalarReverseOps::both;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

TensorSubDim TensorSubDim_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 145)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorSubDim::X;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorSubDim::XY;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorSubDim::XYZ;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TensorSubDim::XYZW;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

TransposeOps TransposeOps_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 146)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::None;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::WZXY;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::WXZY;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::WYXZ;
    break;
  }
  case 4: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::ZWYX;
    break;
  }
  case 5: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::ZYWX;
    break;
  }
  case 6: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::ZYXW;
    break;
  }
  case 7: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::YXWZ;
    break;
  }
  case 8: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::YXZW;
    break;
  }
  case 9: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::YWZX;
    break;
  }
  case 10: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::XWZY;
    break;
  }
  case 11: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::XZYW;
    break;
  }
  case 12: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::XYZW;
    break;
  }
  case 13: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return TransposeOps::XYWZ;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<Dropout> Dropout_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Dropout:147,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 147 || c != 0 || l != 5) {
    std::ostringstream msg;
    msg << "Expecting Dropout:(147,0,5)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Dropout> x = ptr<Dropout>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->thresholdType = DropoutThresholdType_des(in);
  x->threshold = Operand_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<Activate> Activate_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Activate:148,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 148 || c != 0 || l != 7) {
    std::ostringstream msg;
    msg << "Expecting Activate:(148,0,7)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Activate> x = ptr<Activate>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->accumulatorCmd = AccumCmd_des(in);
  x->activationFunc = ActivationFunc_des(in);
  x->scale = Immediate_des(in);
  x->bias = Immediate_des(in);
  x->imm = Immediate_des(in);
  return x;
}

Ptr<AffineSelect> AffineSelect_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting AffineSelect:150,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 150 || c != 0 || l != 5) {
    std::ostringstream msg;
    msg << "Expecting AffineSelect:(150,0,5)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<AffineSelect> x = ptr<AffineSelect>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->fillMode = AffineSelectCmp_des(in);
  x->fillReg = Nat_des(in);
  x->maskPattern = DataPattern_des(in);
  return x;
}

Ptr<DmaCopy> DmaCopy_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting DmaCopy:152,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 152 || c != 0 || l != 5) {
    std::ostringstream msg;
    msg << "Expecting DmaCopy:(152,0,5)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<DmaCopy> x = ptr<DmaCopy>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->compute_op = DgeComputeOp_des(in);
  x->dstBoundsCheck = DmaBounds_des(in);
  x->srcBoundsCheck = DmaBounds_des(in);
  return x;
}

Ptr<DmaTranspose> DmaTranspose_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting DmaTranspose:154,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 154 || c != 0 || l != 5) {
    std::ostringstream msg;
    msg << "Expecting DmaTranspose:(154,0,5)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<DmaTranspose> x = ptr<DmaTranspose>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->axes = TransposeOps_des(in);
  x->dtype = Option_Dtype_des(in);
  x->dgeMode = Nat_des(in);
  return x;
}

Ptr<Transpose> Transpose_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Transpose:155,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 155 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting Transpose:(155,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Transpose> x = ptr<Transpose>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<LoadMaskRegister> LoadMaskRegister_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting LoadMaskRegister:156,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 156 || c != 0 || l != 1) {
    std::ostringstream msg;
    msg << "Expecting LoadMaskRegister:(156,0,1)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<LoadMaskRegister> x = ptr<LoadMaskRegister>();
  x->regNum = Nat_des(in);
  return x;
}

Ptr<Shuffle> Shuffle_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Shuffle:157,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 157 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting Shuffle:(157,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Shuffle> x = ptr<Shuffle>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->shuffleMask = List_Immediate_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<MemSet> MemSet_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting MemSet:158,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 158 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting MemSet:(158,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<MemSet> x = ptr<MemSet>();
  x->dst = TensorRef_des(in);
  x->value = Immediate_des(in);
  x->dtype = Dtype_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<Iota> Iota_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Iota:159,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 159 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting Iota:(159,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Iota> x = ptr<Iota>();
  x->dst = TensorRef_des(in);
  x->pattern = DataPattern_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<LoadStationary> LoadStationary_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting LoadStationary:160,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 160 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting LoadStationary:(160,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<LoadStationary> x = ptr<LoadStationary>();
  x->src = TensorRef_des(in);
  x->isTranspose = Bool_des(in);
  return x;
}

Ptr<MatMul> MatMul_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting MatMul:161,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 161 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting MatMul:(161,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<MatMul> x = ptr<MatMul>();
  x->dst = TensorRef_des(in);
  x->moving = TensorRef_des(in);
  x->psumAccumulateFlag = MatmulGroupElement_des(in);
  return x;
}

Ptr<LocalGather> LocalGather_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting LocalGather:162,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 162 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting LocalGather:(162,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<LocalGather> x = ptr<LocalGather>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->indexMissBehavior = IndexMissBehavior_des(in);
  x->freePoolBuffer = Bool_des(in);
  return x;
}

Ptr<RangeSelect> RangeSelect_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting RangeSelect:164,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 164 || c != 0 || l != 10) {
    std::ostringstream msg;
    msg << "Expecting RangeSelect:(164,0,10)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<RangeSelect> x = ptr<RangeSelect>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->reduceCommand = AccumCmd_des(in);
  x->reduceOp = AluOp_des(in);
  x->base = Float_des(in);
  x->fillValue = Float_des(in);
  x->compOp0 = AluOp_des(in);
  x->compOp1 = AluOp_des(in);
  x->bound0 = Immediate_des(in);
  x->bound1 = Immediate_des(in);
  return x;
}

Ptr<ScalarTensorTensor> ScalarTensorTensor_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting ScalarTensorTensor:166,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 166 || c != 0 || l != 8) {
    std::ostringstream msg;
    msg << "Expecting ScalarTensorTensor:(166,0,8)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<ScalarTensorTensor> x = ptr<ScalarTensorTensor>();
  x->dst = TensorRef_des(in);
  x->src0 = TensorRef_des(in);
  x->src1 = TensorRef_des(in);
  x->op0 = AluOp_des(in);
  x->op1 = AluOp_des(in);
  x->reverseOperands = TensorScalarReverseOps_des(in);
  x->imm0 = Immediate_des(in);
  x->accumulatorCmd = AccumCmd_des(in);
  return x;
}

Ptr<CopyPredicated> CopyPredicated_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting CopyPredicated:168,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 168 || c != 0 || l != 5) {
    std::ostringstream msg;
    msg << "Expecting CopyPredicated:(168,0,5)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<CopyPredicated> x = ptr<CopyPredicated>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->predicate = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  x->reversePred = Bool_des(in);
  return x;
}

Ptr<TensorTensorScan> TensorTensorScan_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorTensorScan:169,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 169 || c != 0 || l != 9) {
    std::ostringstream msg;
    msg << "Expecting TensorTensorScan:(169,0,9)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorTensorScan> x = ptr<TensorTensorScan>();
  x->dst = TensorRef_des(in);
  x->src0 = TensorRef_des(in);
  x->src1 = TensorRef_des(in);
  x->op0 = AluOp_des(in);
  x->op1 = AluOp_des(in);
  x->reverseOperands = TensorScalarReverseOps_des(in);
  x->imm0 = Operand_des(in);
  x->accumulatorCmd = AccumCmd_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<MatchValueLoad> MatchValueLoad_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting MatchValueLoad:170,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 170 || c != 0 || l != 1) {
    std::ostringstream msg;
    msg << "Expecting MatchValueLoad:(170,0,1)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<MatchValueLoad> x = ptr<MatchValueLoad>();
  x->src = TensorRef_des(in);
  return x;
}

Ptr<FindIndex8> FindIndex8_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting FindIndex8:171,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 171 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting FindIndex8:(171,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<FindIndex8> x = ptr<FindIndex8>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->vals = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<MatchReplace8> MatchReplace8_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting MatchReplace8:172,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 172 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting MatchReplace8:(172,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<MatchReplace8> x = ptr<MatchReplace8>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->vals = TensorRef_des(in);
  x->replaceValue = Immediate_des(in);
  x->dstIdx = Option_TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<Max8> Max8_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Max8:173,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 173 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting Max8:(173,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Max8> x = ptr<Max8>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<BatchNormAggregate> BatchNormAggregate_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting BatchNormAggregate:174,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 174 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting BatchNormAggregate:(174,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<BatchNormAggregate> x = ptr<BatchNormAggregate>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<BatchNormStats> BatchNormStats_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting BatchNormStats:175,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 175 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting BatchNormStats:(175,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<BatchNormStats> x = ptr<BatchNormStats>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<Reciprocal> Reciprocal_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Reciprocal:176,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 176 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting Reciprocal:(176,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Reciprocal> x = ptr<Reciprocal>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<Copy> Copy_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Copy:177,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 177 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting Copy:(177,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Copy> x = ptr<Copy>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->opDim = Option_TensorSubDim_des(in);
  return x;
}

Ptr<TensorReduce> TensorReduce_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorReduce:179,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 179 || c != 0 || l != 7) {
    std::ostringstream msg;
    msg << "Expecting TensorReduce:(179,0,7)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorReduce> x = ptr<TensorReduce>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->op = AluOp_des(in);
  x->opDim = TensorSubDim_des(in);
  x->negated = Bool_des(in);
  x->dtype = Option_Dtype_des(in);
  x->keepdims = Bool_des(in);
  return x;
}

Ptr<TensorScalar> TensorScalar_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorScalar:180,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 180 || c != 0 || l != 9) {
    std::ostringstream msg;
    msg << "Expecting TensorScalar:(180,0,9)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorScalar> x = ptr<TensorScalar>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->imm0 = Operand_des(in);
  x->op0 = AluOp_des(in);
  x->imm1 = Option_Operand_des(in);
  x->op1 = Option_AluOp_des(in);
  x->reverse = TensorScalarReverseOps_des(in);
  x->engine = Engine_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<TensorTensor> TensorTensor_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorTensor:182,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 182 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting TensorTensor:(182,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorTensor> x = ptr<TensorTensor>();
  x->dst = TensorRef_des(in);
  x->src0 = TensorRef_des(in);
  x->src1 = TensorRef_des(in);
  x->op = AluOp_des(in);
  x->dtype = Option_Dtype_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<NcMatMul> NcMatMul_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcMatMul:183,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 183 || c != 0 || l != 10) {
    std::ostringstream msg;
    msg << "Expecting NcMatMul:(183,0,10)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcMatMul> x = ptr<NcMatMul>();
  x->dst = TensorRef_des(in);
  x->stationary = TensorRef_des(in);
  x->moving = TensorRef_des(in);
  x->isStationaryOneZero = Bool_des(in);
  x->isMovingZero = Bool_des(in);
  x->isTranspose = Bool_des(in);
  x->tilePosition = List_Nat_des(in);
  x->tileSize = List_Nat_des(in);
  x->psumAccumulateFlag = Nat_des(in);
  x->perfMode = MatmulPerfMode_des(in);
  return x;
}

Ptr<TensorScalarReduce> TensorScalarReduce_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorScalarReduce:181,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 181 || c != 0 || l != 8) {
    std::ostringstream msg;
    msg << "Expecting TensorScalarReduce:(181,0,8)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorScalarReduce> x = ptr<TensorScalarReduce>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->operand0 = Operand_des(in);
  x->op0 = AluOp_des(in);
  x->reverse0 = Bool_des(in);
  x->dtype = Option_Dtype_des(in);
  x->reduceOp = Option_AluOp_des(in);
  x->reduceRes = TensorRef_des(in);
  return x;
}

Ptr<TensorPartitionReduce> TensorPartitionReduce_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorPartitionReduce:184,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 184 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting TensorPartitionReduce:(184,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorPartitionReduce> x = ptr<TensorPartitionReduce>();
  x->dst = TensorRef_des(in);
  x->op = AluOp_des(in);
  x->data = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<NcActivate> NcActivate_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcActivate:149,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 149 || c != 0 || l != 9) {
    std::ostringstream msg;
    msg << "Expecting NcActivate:(149,0,9)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcActivate> x = ptr<NcActivate>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->accumulatorCmd = AccumCmd_des(in);
  x->activationFunc = ActivationFunc_des(in);
  x->scale = Operand_des(in);
  x->bias = Option_TensorRef_des(in);
  x->reduceOp = Option_AluOp_des(in);
  x->reduceRes = Option_TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<NcAffineSelect> NcAffineSelect_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcAffineSelect:151,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 151 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting NcAffineSelect:(151,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcAffineSelect> x = ptr<NcAffineSelect>();
  x->dst = TensorRef_des(in);
  x->pred = DataPattern_des(in);
  x->onTrueTile = TensorRef_des(in);
  x->onFalseValue = Immediate_des(in);
  x->dtype = Option_Dtype_des(in);
  x->cmpOp = AluOp_des(in);
  return x;
}

Ptr<NcDmaCopy> NcDmaCopy_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcDmaCopy:153,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 153 || c != 0 || l != 7) {
    std::ostringstream msg;
    msg << "Expecting NcDmaCopy:(153,0,7)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcDmaCopy> x = ptr<NcDmaCopy>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->compute_op = DgeComputeOp_des(in);
  x->oobMode = DmaBounds_des(in);
  x->dgeMode = Nat_des(in);
  x->uniqueIndices = Bool_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<NcLocalGather> NcLocalGather_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcLocalGather:163,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 163 || c != 0 || l != 5) {
    std::ostringstream msg;
    msg << "Expecting NcLocalGather:(163,0,5)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcLocalGather> x = ptr<NcLocalGather>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->index = TensorRef_des(in);
  x->numElemPerIdx = Immediate_des(in);
  x->numValidIndicies = Option_Immediate_des(in);
  return x;
}

Ptr<NcRangeSelect> NcRangeSelect_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcRangeSelect:165,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 165 || c != 0 || l != 12) {
    std::ostringstream msg;
    msg << "Expecting NcRangeSelect:(165,0,12)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcRangeSelect> x = ptr<NcRangeSelect>();
  x->dst = TensorRef_des(in);
  x->reduceCommand = AccumCmd_des(in);
  x->reduceRes = Option_TensorRef_des(in);
  x->reduceOp = Option_AluOp_des(in);
  x->compOp0 = AluOp_des(in);
  x->compOp1 = AluOp_des(in);
  x->bound0 = TensorRef_des(in);
  x->bound1 = TensorRef_des(in);
  x->rangeStart = Immediate_des(in);
  x->onTrueTile = TensorRef_des(in);
  x->onFalseValue = Immediate_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<NcScalarTensorTensor> NcScalarTensorTensor_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcScalarTensorTensor:167,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 167 || c != 0 || l != 8) {
    std::ostringstream msg;
    msg << "Expecting NcScalarTensorTensor:(167,0,8)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcScalarTensorTensor> x = ptr<NcScalarTensorTensor>();
  x->dst = TensorRef_des(in);
  x->data = TensorRef_des(in);
  x->src0 = Operand_des(in);
  x->src1 = Operand_des(in);
  x->op0 = AluOp_des(in);
  x->op1 = AluOp_des(in);
  x->reverseOperands = TensorScalarReverseOps_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<NcCopy> NcCopy_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcCopy:178,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 178 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting NcCopy:(178,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcCopy> x = ptr<NcCopy>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<SelectReduce> SelectReduce_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting SelectReduce:185,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 185 || c != 0 || l != 9) {
    std::ostringstream msg;
    msg << "Expecting SelectReduce:(185,0,9)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<SelectReduce> x = ptr<SelectReduce>();
  x->dst = TensorRef_des(in);
  x->predicate = TensorRef_des(in);
  x->onTrue = TensorRef_des(in);
  x->onFalse = Operand_des(in);
  x->reduceRes = Option_TensorRef_des(in);
  x->reduceCmd = AccumCmd_des(in);
  x->reduceOp = AluOp_des(in);
  x->reversePred = Bool_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<SequenceBounds> SequenceBounds_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting SequenceBounds:186,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 186 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting SequenceBounds:(186,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<SequenceBounds> x = ptr<SequenceBounds>();
  x->dst = TensorRef_des(in);
  x->segmentIds = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<SendRecv> SendRecv_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting SendRecv:187,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 187 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting SendRecv:(187,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<SendRecv> x = ptr<SendRecv>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->sendToRank = Immediate_des(in);
  x->recvFromRank = Immediate_des(in);
  x->pipeId = Immediate_des(in);
  x->useGpsimdDma = Bool_des(in);
  return x;
}

Ptr<SendRecvCCE> SendRecvCCE_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting SendRecvCCE:188,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 188 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting SendRecvCCE:(188,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<SendRecvCCE> x = ptr<SendRecvCCE>();
  x->dst = TensorRef_des(in);
  x->src = List_TensorRef_des(in);
  x->sendToRank = Immediate_des(in);
  x->recvFromRanks = List_Immediate_des(in);
  x->pipeId = Immediate_des(in);
  x->op = AluOp_des(in);
  return x;
}

Ptr<QuantizeMX> QuantizeMX_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting QuantizeMX:195,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 195 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting QuantizeMX:(195,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<QuantizeMX> x = ptr<QuantizeMX>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->dstScale = TensorRef_des(in);
  return x;
}

Ptr<MatMulMX> MatMulMX_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting MatMulMX:196,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 196 || c != 0 || l != 8) {
    std::ostringstream msg;
    msg << "Expecting MatMulMX:(196,0,8)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<MatMulMX> x = ptr<MatMulMX>();
  x->dst = TensorRef_des(in);
  x->stationary = TensorRef_des(in);
  x->moving = TensorRef_des(in);
  x->stationaryScale = TensorRef_des(in);
  x->movingScale = TensorRef_des(in);
  x->psumAccumulateFlag = Nat_des(in);
  x->tilePosition = Option_List_Nat_des(in);
  x->tileSize = Option_List_Nat_des(in);
  return x;
}

Ptr<DmaCompute> DmaCompute_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting DmaCompute:197,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 197 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting DmaCompute:(197,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<DmaCompute> x = ptr<DmaCompute>();
  x->dst = TensorRef_des(in);
  x->srcs = List_TensorRef_des(in);
  x->scales = List_Immediate_des(in);
  x->reduceOp = AluOp_des(in);
  return x;
}

Ptr<CollectiveOp> CollectiveOp_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting CollectiveOp:198,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 198 || c != 0 || l != 10) {
    std::ostringstream msg;
    msg << "Expecting CollectiveOp:(198,0,10)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<CollectiveOp> x = ptr<CollectiveOp>();
  x->dsts = List_TensorRef_des(in);
  x->srcs = List_TensorRef_des(in);
  x->op = Option_AluOp_des(in);
  x->replicaGroups = Option_List_List_Int_des(in);
  x->reduceScatterDim = Option_Int_des(in);
  x->allGatherDim = Option_Int_des(in);
  x->sourceTargetPairs = Option_List_List_Int_des(in);
  x->broacastSizes = Option_List_Int_des(in);
  x->splitDim = Option_Int_des(in);
  x->concatDim = Option_Int_des(in);
  return x;
}

Ptr<Send> Send_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Send:199,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 199 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting Send:(199,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Send> x = ptr<Send>();
  x->op = AluOp_des(in);
  x->srcs = List_TensorRef_des(in);
  x->peerId = Int_des(in);
  return x;
}

Ptr<Recv> Recv_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Recv:200,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 200 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting Recv:(200,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Recv> x = ptr<Recv>();
  x->op = AluOp_des(in);
  x->dsts = List_TensorRef_des(in);
  x->replicaGroups = List_Int_des(in);
  x->peerId = Int_des(in);
  return x;
}

BrCmpOp BrCmpOp_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 189)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::always;
    break;
  }
  case 1: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::lt_imm;
    break;
  }
  case 2: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::le_imm;
    break;
  }
  case 3: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::eq_imm;
    break;
  }
  case 4: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::ne_imm;
    break;
  }
  case 5: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::ge_imm;
    break;
  }
  case 6: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::gt_imm;
    break;
  }
  case 7: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::lt_reg;
    break;
  }
  case 8: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::le_reg;
    break;
  }
  case 9: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::eq_reg;
    break;
  }
  case 10: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::ne_reg;
    break;
  }
  case 11: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::ge_reg;
    break;
  }
  case 12: {
    if (l != 0)
      throw std::runtime_error("Wrong number of elements");
    return BrCmpOp::gt_reg;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<TensorLoad> TensorLoad_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorLoad:190,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 190 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting TensorLoad:(190,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorLoad> x = ptr<TensorLoad>();
  x->dst = String_des(in);
  x->src = TensorRef_des(in);
  return x;
}

Ptr<TensorStore> TensorStore_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorStore:191,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 191 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting TensorStore:(191,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorStore> x = ptr<TensorStore>();
  x->dst = TensorRef_des(in);
  x->src = String_des(in);
  return x;
}

Ptr<RegisterMove> RegisterMove_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting RegisterMove:192,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 192 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting RegisterMove:(192,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<RegisterMove> x = ptr<RegisterMove>();
  x->dst = String_des(in);
  x->imm = Int_des(in);
  return x;
}

Ptr<CmpBranch> CmpBranch_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting CmpBranch:193,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 193 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting CmpBranch:(193,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<CmpBranch> x = ptr<CmpBranch>();
  x->reg1 = String_des(in);
  x->reg2 = String_des(in);
  x->imm = Int_des(in);
  x->op = BrCmpOp_des(in);
  x->trueLabel = String_des(in);
  x->falseLabel = String_des(in);
  return x;
}

Ptr<RegisterAluOp> RegisterAluOp_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting RegisterAluOp:194,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 194 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting RegisterAluOp:(194,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<RegisterAluOp> x = ptr<RegisterAluOp>();
  x->dst = String_des(in);
  x->src = String_des(in);
  x->imm = Int_des(in);
  x->op = AluOp_des(in);
  return x;
}

Ptr<CoreBarrier> CoreBarrier_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting CoreBarrier:201,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 201 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting CoreBarrier:(201,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<CoreBarrier> x = ptr<CoreBarrier>();
  x->data = TensorRef_des(in);
  x->cores = List_Int_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<Rng> Rng_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Rng:202,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 202 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting Rng:(202,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Rng> x = ptr<Rng>();
  x->dst = TensorRef_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<Rand2> Rand2_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Rand2:203,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 203 || c != 0 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting Rand2:(203,0,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Rand2> x = ptr<Rand2>();
  x->dst = TensorRef_des(in);
  x->min = Operand_des(in);
  x->max = Operand_des(in);
  return x;
}

Ptr<RandGetState> RandGetState_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting RandGetState:204,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 204 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting RandGetState:(204,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<RandGetState> x = ptr<RandGetState>();
  x->dst = TensorRef_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<SetRngSeed> SetRngSeed_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting SetRngSeed:205,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 205 || c != 0 || l != 1) {
    std::ostringstream msg;
    msg << "Expecting SetRngSeed:(205,0,1)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<SetRngSeed> x = ptr<SetRngSeed>();
  x->src = TensorRef_des(in);
  return x;
}

Ptr<RandSetState> RandSetState_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting RandSetState:206,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 206 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting RandSetState:(206,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<RandSetState> x = ptr<RandSetState>();
  x->src = TensorRef_des(in);
  x->engine = Engine_des(in);
  return x;
}

Ptr<ExtendedInst> ExtendedInst_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting ExtendedInst:207,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 207 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting ExtendedInst:(207,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<ExtendedInst> x = ptr<ExtendedInst>();
  x->opcode = Nat_des(in);
  x->hasRead = Bool_des(in);
  x->hasWrite = Bool_des(in);
  x->ports = Nat_des(in);
  x->data0 = List_Nat_des(in);
  x->data1 = List_Nat_des(in);
  return x;
}

Ptr<TensorScalarCumulative> TensorScalarCumulative_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting TensorScalarCumulative:208,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 208 || c != 0 || l != 9) {
    std::ostringstream msg;
    msg << "Expecting TensorScalarCumulative:(208,0,9)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<TensorScalarCumulative> x = ptr<TensorScalarCumulative>();
  x->dst = TensorRef_des(in);
  x->src = TensorRef_des(in);
  x->op0 = AluOp_des(in);
  x->op1 = AluOp_des(in);
  x->imm0 = Operand_des(in);
  x->imm1 = Option_Operand_des(in);
  x->reduceCmd = AccumCmd_des(in);
  x->reverse = TensorScalarReverseOps_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<NcNGather> NcNGather_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting NcNGather:209,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 209 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting NcNGather:(209,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<NcNGather> x = ptr<NcNGather>();
  x->dst = TensorRef_des(in);
  x->data = TensorRef_des(in);
  x->indices = TensorRef_des(in);
  x->dtype = Option_Dtype_des(in);
  return x;
}

Ptr<Operator> Operator_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 210)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorActivateWrapper> x = ptr<OperatorActivateWrapper>();
    x->op = Activate_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcActivateWrapper> x = ptr<OperatorNcActivateWrapper>();
    x->op = NcActivate_des(in);
    return x;
    break;
  }
  case 2: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorActivationReduceWrapper> x =
        ptr<OperatorActivationReduceWrapper>();
    x->op = NcActivate_des(in);
    return x;
    break;
  }
  case 3: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorAffineSelectWrapper> x = ptr<OperatorAffineSelectWrapper>();
    x->op = AffineSelect_des(in);
    return x;
    break;
  }
  case 4: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcAffineSelectWrapper> x = ptr<OperatorNcAffineSelectWrapper>();
    x->op = NcAffineSelect_des(in);
    return x;
    break;
  }
  case 5: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorBatchNormAggregateWrapper> x =
        ptr<OperatorBatchNormAggregateWrapper>();
    x->op = BatchNormAggregate_des(in);
    return x;
    break;
  }
  case 6: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorBatchNormStatsWrapper> x = ptr<OperatorBatchNormStatsWrapper>();
    x->op = BatchNormStats_des(in);
    return x;
    break;
  }
  case 7: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorCopyWrapper> x = ptr<OperatorCopyWrapper>();
    x->op = Copy_des(in);
    return x;
    break;
  }
  case 8: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcCopyWrapper> x = ptr<OperatorNcCopyWrapper>();
    x->op = NcCopy_des(in);
    return x;
    break;
  }
  case 9: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorCopyPredicatedWrapper> x = ptr<OperatorCopyPredicatedWrapper>();
    x->op = CopyPredicated_des(in);
    return x;
    break;
  }
  case 10: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorDmaCopyWrapper> x = ptr<OperatorDmaCopyWrapper>();
    x->op = DmaCopy_des(in);
    return x;
    break;
  }
  case 11: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcDmaCopyWrapper> x = ptr<OperatorNcDmaCopyWrapper>();
    x->op = NcDmaCopy_des(in);
    return x;
    break;
  }
  case 12: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorDmaTransposeWrapper> x = ptr<OperatorDmaTransposeWrapper>();
    x->op = DmaTranspose_des(in);
    return x;
    break;
  }
  case 13: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorDropoutWrapper> x = ptr<OperatorDropoutWrapper>();
    x->op = Dropout_des(in);
    return x;
    break;
  }
  case 14: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorFindIndex8Wrapper> x = ptr<OperatorFindIndex8Wrapper>();
    x->op = FindIndex8_des(in);
    return x;
    break;
  }
  case 15: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorIotaWrapper> x = ptr<OperatorIotaWrapper>();
    x->op = Iota_des(in);
    return x;
    break;
  }
  case 16: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorLoadMaskRegisterWrapper> x =
        ptr<OperatorLoadMaskRegisterWrapper>();
    x->op = LoadMaskRegister_des(in);
    return x;
    break;
  }
  case 17: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorLoadStationaryWrapper> x = ptr<OperatorLoadStationaryWrapper>();
    x->op = LoadStationary_des(in);
    return x;
    break;
  }
  case 18: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorLocalGatherWrapper> x = ptr<OperatorLocalGatherWrapper>();
    x->op = LocalGather_des(in);
    return x;
    break;
  }
  case 19: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcLocalGatherWrapper> x = ptr<OperatorNcLocalGatherWrapper>();
    x->op = NcLocalGather_des(in);
    return x;
    break;
  }
  case 20: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorMatMulWrapper> x = ptr<OperatorMatMulWrapper>();
    x->op = MatMul_des(in);
    return x;
    break;
  }
  case 21: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcMatMulWrapper> x = ptr<OperatorNcMatMulWrapper>();
    x->op = NcMatMul_des(in);
    return x;
    break;
  }
  case 22: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorMatchReplace8Wrapper> x = ptr<OperatorMatchReplace8Wrapper>();
    x->op = MatchReplace8_des(in);
    return x;
    break;
  }
  case 23: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorMatchValueLoadWrapper> x = ptr<OperatorMatchValueLoadWrapper>();
    x->op = MatchValueLoad_des(in);
    return x;
    break;
  }
  case 24: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorMax8Wrapper> x = ptr<OperatorMax8Wrapper>();
    x->op = Max8_des(in);
    return x;
    break;
  }
  case 25: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorMemSetWrapper> x = ptr<OperatorMemSetWrapper>();
    x->op = MemSet_des(in);
    return x;
    break;
  }
  case 26: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRangeSelectWrapper> x = ptr<OperatorRangeSelectWrapper>();
    x->op = RangeSelect_des(in);
    return x;
    break;
  }
  case 27: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcRangeSelectWrapper> x = ptr<OperatorNcRangeSelectWrapper>();
    x->op = NcRangeSelect_des(in);
    return x;
    break;
  }
  case 28: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorReciprocalWrapper> x = ptr<OperatorReciprocalWrapper>();
    x->op = Reciprocal_des(in);
    return x;
    break;
  }
  case 29: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorScalarTensorTensorWrapper> x =
        ptr<OperatorScalarTensorTensorWrapper>();
    x->op = ScalarTensorTensor_des(in);
    return x;
    break;
  }
  case 30: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcScalarTensorTensorWrapper> x =
        ptr<OperatorNcScalarTensorTensorWrapper>();
    x->op = NcScalarTensorTensor_des(in);
    return x;
    break;
  }
  case 31: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorShuffleWrapper> x = ptr<OperatorShuffleWrapper>();
    x->op = Shuffle_des(in);
    return x;
    break;
  }
  case 32: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorReduceWrapper> x = ptr<OperatorTensorReduceWrapper>();
    x->op = TensorReduce_des(in);
    return x;
    break;
  }
  case 33: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorScalarWrapper> x = ptr<OperatorTensorScalarWrapper>();
    x->op = TensorScalar_des(in);
    return x;
    break;
  }
  case 34: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorTensorWrapper> x = ptr<OperatorTensorTensorWrapper>();
    x->op = TensorTensor_des(in);
    return x;
    break;
  }
  case 35: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorTensorScanWrapper> x =
        ptr<OperatorTensorTensorScanWrapper>();
    x->op = TensorTensorScan_des(in);
    return x;
    break;
  }
  case 36: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorPartitionReduceWrapper> x =
        ptr<OperatorTensorPartitionReduceWrapper>();
    x->op = TensorPartitionReduce_des(in);
    return x;
    break;
  }
  case 37: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorScalarReduceWrapper> x =
        ptr<OperatorTensorScalarReduceWrapper>();
    x->op = TensorScalarReduce_des(in);
    return x;
    break;
  }
  case 38: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTransposeWrapper> x = ptr<OperatorTransposeWrapper>();
    x->op = Transpose_des(in);
    return x;
    break;
  }
  case 39: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorSelectReduceWrapper> x = ptr<OperatorSelectReduceWrapper>();
    x->op = SelectReduce_des(in);
    return x;
    break;
  }
  case 40: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorSequenceBoundsWrapper> x = ptr<OperatorSequenceBoundsWrapper>();
    x->op = SequenceBounds_des(in);
    return x;
    break;
  }
  case 41: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorSendRecvWrapper> x = ptr<OperatorSendRecvWrapper>();
    x->op = SendRecv_des(in);
    return x;
    break;
  }
  case 42: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorSendRecvCCEWrapper> x = ptr<OperatorSendRecvCCEWrapper>();
    x->op = SendRecvCCE_des(in);
    return x;
    break;
  }
  case 43: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorLoadWrapper> x = ptr<OperatorTensorLoadWrapper>();
    x->op = TensorLoad_des(in);
    return x;
    break;
  }
  case 44: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorStoreWrapper> x = ptr<OperatorTensorStoreWrapper>();
    x->op = TensorStore_des(in);
    return x;
    break;
  }
  case 45: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRegisterMoveWrapper> x = ptr<OperatorRegisterMoveWrapper>();
    x->op = RegisterMove_des(in);
    return x;
    break;
  }
  case 46: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorCmpBranchWrapper> x = ptr<OperatorCmpBranchWrapper>();
    x->op = CmpBranch_des(in);
    return x;
    break;
  }
  case 47: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRegisterAluOpWrapper> x = ptr<OperatorRegisterAluOpWrapper>();
    x->op = RegisterAluOp_des(in);
    return x;
    break;
  }
  case 48: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorQuantizeMXWrapper> x = ptr<OperatorQuantizeMXWrapper>();
    x->op = QuantizeMX_des(in);
    return x;
    break;
  }
  case 49: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcMatMulMXWrapper> x = ptr<OperatorNcMatMulMXWrapper>();
    x->op = MatMulMX_des(in);
    return x;
    break;
  }
  case 50: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorDmaComputeWrapper> x = ptr<OperatorDmaComputeWrapper>();
    x->op = DmaCompute_des(in);
    return x;
    break;
  }
  case 51: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorAllReduceWrapper> x = ptr<OperatorAllReduceWrapper>();
    x->op = CollectiveOp_des(in);
    return x;
    break;
  }
  case 52: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorAllGatherWrapper> x = ptr<OperatorAllGatherWrapper>();
    x->op = CollectiveOp_des(in);
    return x;
    break;
  }
  case 53: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorReduceScatterWrapper> x = ptr<OperatorReduceScatterWrapper>();
    x->op = CollectiveOp_des(in);
    return x;
    break;
  }
  case 54: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorCollectivePermuteWrapper> x =
        ptr<OperatorCollectivePermuteWrapper>();
    x->op = CollectiveOp_des(in);
    return x;
    break;
  }
  case 55: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorBroadcastWrapper> x = ptr<OperatorBroadcastWrapper>();
    x->op = CollectiveOp_des(in);
    return x;
    break;
  }
  case 56: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorAllToAllWrapper> x = ptr<OperatorAllToAllWrapper>();
    x->op = CollectiveOp_des(in);
    return x;
    break;
  }
  case 57: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorSendWrapper> x = ptr<OperatorSendWrapper>();
    x->op = Send_des(in);
    return x;
    break;
  }
  case 58: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRecvWrapper> x = ptr<OperatorRecvWrapper>();
    x->op = Recv_des(in);
    return x;
    break;
  }
  case 59: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorCoreBarrierWrapper> x = ptr<OperatorCoreBarrierWrapper>();
    x->op = CoreBarrier_des(in);
    return x;
    break;
  }
  case 60: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRngWrapper> x = ptr<OperatorRngWrapper>();
    x->op = Rng_des(in);
    return x;
    break;
  }
  case 61: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRand2Wrapper> x = ptr<OperatorRand2Wrapper>();
    x->op = Rand2_des(in);
    return x;
    break;
  }
  case 62: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRandGetStateWrapper> x = ptr<OperatorRandGetStateWrapper>();
    x->op = RandGetState_des(in);
    return x;
    break;
  }
  case 63: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorSetRngSeedWrapper> x = ptr<OperatorSetRngSeedWrapper>();
    x->op = SetRngSeed_des(in);
    return x;
    break;
  }
  case 64: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorRandSetStateWrapper> x = ptr<OperatorRandSetStateWrapper>();
    x->op = RandSetState_des(in);
    return x;
    break;
  }
  case 65: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorExtendedInstWrapper> x = ptr<OperatorExtendedInstWrapper>();
    x->op = ExtendedInst_des(in);
    return x;
    break;
  }
  case 66: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorTensorScalarCumulativeWrapper> x =
        ptr<OperatorTensorScalarCumulativeWrapper>();
    x->op = TensorScalarCumulative_des(in);
    return x;
    break;
  }
  case 67: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<OperatorNcNGatherWrapper> x = ptr<OperatorNcNGatherWrapper>();
    x->op = NcNGather_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<Stmt> Stmt_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 103)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 3)
      throw std::runtime_error("Wrong number of elements");
    Ptr<StmtOperWrapper> x = ptr<StmtOperWrapper>();
    x->op = Operator_des(in);
    x->name = Option_String_des(in);
    x->pos = Pos_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}

Ptr<Block> Block_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Block:104,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 104 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting Block:(104,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Block> x = ptr<Block>();
  x->label = String_des(in);
  x->body = List_Stmt_des(in);
  return x;
}

Ptr<Kernel> Kernel_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Kernel:105,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 105 || c != 0 || l != 4) {
    std::ostringstream msg;
    msg << "Expecting Kernel:(105,0,4)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Kernel> x = ptr<Kernel>();
  x->name = String_des(in);
  x->inputs = List_TensorName_des(in);
  x->outputs = List_TensorName_des(in);
  x->body = List_Block_des(in);
  return x;
}

Ptr<SharedConstantFile> SharedConstantFile_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting SharedConstantFile:106,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 106 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting SharedConstantFile:(106,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<SharedConstantFile> x = ptr<SharedConstantFile>();
  x->name = String_des(in);
  x->fileName = String_des(in);
  return x;
}

Ptr<Edges> Edges_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting Edges:107,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 107 || c != 0 || l != 2) {
    std::ostringstream msg;
    msg << "Expecting Edges:(107,0,2)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<Edges> x = ptr<Edges>();
  x->fromEdge = String_des(in);
  x->toEdges = List_String_des(in);
  return x;
}

Ptr<LncKernel> LncKernel_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting LncKernel:108,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 108 || c != 0 || l != 6) {
    std::ostringstream msg;
    msg << "Expecting LncKernel:(108,0,6)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<LncKernel> x = ptr<LncKernel>();
  x->name = String_des(in);
  x->inputs = List_TensorName_des(in);
  x->outputs = List_TensorName_des(in);
  x->bodies = List_List_Block_des(in);
  x->sharedConstants = List_SharedConstantFile_des(in);
  x->edges = List_Edges_des(in);
  return x;
}

List<Ptr<Index>> List_Index_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<Index>> l;
  while (size-- > 0) {
    Ptr<Index> b = Index_des(in);
    l.push_back(b);
  }
  return l;
}

List<Ptr<APPair>> List_APPair_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<APPair>> l;
  while (size-- > 0) {
    Ptr<APPair> b = APPair_des(in);
    l.push_back(b);
  }
  return l;
}

Option<Ptr<ScalarOffset>> Option_ScalarOffset_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Ptr<ScalarOffset>> x;
  if (isSome)
    x = ScalarOffset_des(in);
  return x;
}

Option<Ptr<Access>> Option_Access_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Ptr<Access>> x;
  if (isSome)
    x = Access_des(in);
  return x;
}

Option<Dtype> Option_Dtype_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Dtype> x;
  if (isSome)
    x = Dtype_des(in);
  return x;
}

List<Ptr<Immediate>> List_Immediate_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<Immediate>> l;
  while (size-- > 0) {
    Ptr<Immediate> b = Immediate_des(in);
    l.push_back(b);
  }
  return l;
}

Option<Ptr<TensorRef>> Option_TensorRef_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Ptr<TensorRef>> x;
  if (isSome)
    x = TensorRef_des(in);
  return x;
}

Option<TensorSubDim> Option_TensorSubDim_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<TensorSubDim> x;
  if (isSome)
    x = TensorSubDim_des(in);
  return x;
}

Option<Ptr<Operand>> Option_Operand_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Ptr<Operand>> x;
  if (isSome)
    x = Operand_des(in);
  return x;
}

Option<AluOp> Option_AluOp_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<AluOp> x;
  if (isSome)
    x = AluOp_des(in);
  return x;
}

Option<Ptr<Immediate>> Option_Immediate_des(FILE *in) {
  bool isSome;
  if (!deserialize_option(in, &isSome))
    throw std::runtime_error("expecting Bool");

  Option<Ptr<Immediate>> x;
  if (isSome)
    x = Immediate_des(in);
  return x;
}

List<Ptr<TensorRef>> List_TensorRef_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<TensorRef>> l;
  while (size-- > 0) {
    Ptr<TensorRef> b = TensorRef_des(in);
    l.push_back(b);
  }
  return l;
}

List<Ptr<Stmt>> List_Stmt_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<Stmt>> l;
  while (size-- > 0) {
    Ptr<Stmt> b = Stmt_des(in);
    l.push_back(b);
  }
  return l;
}

List<Ptr<TensorName>> List_TensorName_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<TensorName>> l;
  while (size-- > 0) {
    Ptr<TensorName> b = TensorName_des(in);
    l.push_back(b);
  }
  return l;
}

List<Ptr<Block>> List_Block_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<Block>> l;
  while (size-- > 0) {
    Ptr<Block> b = Block_des(in);
    l.push_back(b);
  }
  return l;
}

List<List<Ptr<Block>>> List_List_Block_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<List<Ptr<Block>>> l;
  while (size-- > 0) {
    List<Ptr<Block>> b = List_Block_des(in);
    l.push_back(b);
  }
  return l;
}

List<Ptr<SharedConstantFile>> List_SharedConstantFile_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<SharedConstantFile>> l;
  while (size-- > 0) {
    Ptr<SharedConstantFile> b = SharedConstantFile_des(in);
    l.push_back(b);
  }
  return l;
}

List<Ptr<Edges>> List_Edges_des(FILE *in) {
  u64 size = 0;
  if (!deserialize_array_start(in, &size))
    throw std::runtime_error("expecting List");

  List<Ptr<Edges>> l;
  while (size-- > 0) {
    Ptr<Edges> b = Edges_des(in);
    l.push_back(b);
  }
  return l;
}

Ptr<KLRFile> KLRFile_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting KLRFile:217,247";
    throw std::runtime_error(msg.str());
  }
  if (t != 217 || c != 247 || l != 3) {
    std::ostringstream msg;
    msg << "Expecting KLRFile:(217,247,3)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<KLRFile> x = ptr<KLRFile>();
  x->major = Nat_des(in);
  x->minor = Nat_des(in);
  x->patch = Nat_des(in);
  return x;
}

Ptr<KLRMetaData> KLRMetaData_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l)) {
    std::ostringstream msg;
    msg << "Could not find tag, expecting KLRMetaData:235,0";
    throw std::runtime_error(msg.str());
  }
  if (t != 235 || c != 0 || l != 1) {
    std::ostringstream msg;
    msg << "Expecting KLRMetaData:(235,0,1)";
    msg << " got:(" << (int)t << "," << (int)c << "," << (int)l << ")";
    throw std::runtime_error(msg.str());
  }
  Ptr<KLRMetaData> x = ptr<KLRMetaData>();
  x->format = String_des(in);
  return x;
}

Ptr<Contents> Contents_des(FILE *in) {
  u8 t, c, l;
  if (!deserialize_tag(in, &t, &c, &l))
    throw std::runtime_error("Could not read tag");
  if (t != 236)
    throw std::runtime_error("Unexpected type tag");
  switch (c) {
  case 0: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ContentsPythonWrapper> x = ptr<ContentsPythonWrapper>();
    x->kernel = Kernel_des(in);
    return x;
    break;
  }
  case 1: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ContentsNkiWrapper> x = ptr<ContentsNkiWrapper>();
    x->kernel = Kernel_des(in);
    return x;
    break;
  }
  case 2: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ContentsKernelWrapper> x = ptr<ContentsKernelWrapper>();
    x->kernel = Kernel_des(in);
    return x;
    break;
  }
  case 3: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ContentsLncWrapper> x = ptr<ContentsLncWrapper>();
    x->kernel = LncKernel_des(in);
    return x;
    break;
  }
  case 4: {
    if (l != 1)
      throw std::runtime_error("Wrong number of elements");
    Ptr<ContentsHloWrapper> x = ptr<ContentsHloWrapper>();
    x->name = String_des(in);
    return x;
    break;
  }
  default:
    throw std::runtime_error("Invalid value tag");
  }
}
} // namespace klr
